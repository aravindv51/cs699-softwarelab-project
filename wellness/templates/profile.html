<!DOCTYPE html>
<html lang="en">
<head>
    <title>user profile</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Profile</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto|Varela+Round|Open+Sans">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

    <style>
        .navbar {
    background-color: rgb(188, 52, 122);
    color: white;
    padding: 1rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
}
.navbar h3 {
    margin: 0;
}
.navbar a {
    color: white;
    text-decoration: none;
    margin-left: 1rem;
}

        /* Profile Page Styling */
        .profile-container {
            margin: 20px auto;
            max-width: 1200px;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
            background-color: #f9f9f9;
        }
        .profile-header {
            text-align: center;
            margin-bottom: 30px;
        }
        .profile-header h2 {
            font-size: 2rem;
            font-weight: 600;
        }
        .profile-header p {
            font-size: 1.1rem;
            color: #555;
        }

        .profile-details, .programs-challenges {
            margin-top: 30px;
        }

        .profile-details h4, .programs-challenges h4 {
            font-size: 1.6rem;
            color: #333;
            margin-bottom: 20px;
        }

        .profile-details p {
            font-size: 1.1rem;
            color: #555;
        }

        /* Table Styling for Programs and Challenges */
        #profile-table {
            width: 100%;
            border-collapse: collapse;
        }
        #profile-table th, #profile-table td {
            padding: 12px;
            border: 1px solid #ddd;
            text-align: center;
        }
        #profile-table th {
            background-color: #2ecc71;
            color: white;
        }
        #profile-table tr:nth-child(even) {
            background-color: #f2f2f2;
        }

        /* Button Styling */
        .btn-profile {
            background-color: #27ae60;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            text-decoration: none;
            font-weight: 500;
        }
        .btn-profile:hover {
            background-color: #2ecc71;
        }
    </style>
</head>
<body>

    <!-- Navbar -->
    <div class="navbar">
        <h3>IITB Student Events Club</h3>
        <div>
            <a href="/userhome">Home</a>
            <a href="/profile">Profile</a>
            <a href="/logout">Logout</a>
        </div>
    </div>

    <!-- Profile Page Content -->
    <div class="profile-container">

        <!-- Profile Header -->
        <div class="profile-header">
            <h2>Welcome, {{ user.name }}</h2>
            <p>Department: {{ user.dept }} | College: IIT BOMBAY</p>
            <p>Points: {{user.points }}</p>
        </div>

        <!-- Profile Details Section -->
        <div class="profile-details">
            <h4>Your Profile Details</h4>
            <p><strong>Name:</strong> {{ user.name }}</p>
            <p><strong>User ID:</strong> {{ user.id }}</p>
            <p><strong>Department:</strong> {{ user.dept }}</p>
            <p><strong>College:</strong> IIT Bombay</p>
            <p><strong>Points:</strong> {{ user.points }}</p>
            <p><strong>Email:</strong> {{ user.email }}</p>
        </div>

        <!-- Programs and Challenges Section -->
        <div class="programs-challenges">
            <h4>Your Registered Programs:</h4>

            {% if programs|length == 0 %}
                <p>You have no programs registered.</p>
            {% else %}
                <!-- Table of Registered Programs and Challenges -->
                <table id="profile-table">
                        <thead>
                            <tr>
                                <th>Program Participation Id</th>
                                <th>Program ID</th>
                                <th>Registered Date Time</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for participation in programs %}
                            <tr>
                                <td>{{ participation.ppid }}</td>
                                <td>{{ participation.pid }}</td>
                                <td>{{ participation.pregtime }}</td>
                                <td>{{ participation.status }}</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                </table>
            {% endif %}
        </div>

        <!-- Programs and Challenges Section -->
        <div class="programs-challenges">
            <h4>Your Registered Challenges:</h4>
            {% if challenges|length == 0 %}
                <p>You have no challenges registered.</p>
            {% else %}
                <!-- Table of Registered Programs and Challenges -->
                <table id="profile-table">
                    <thead>
                        <tr>
                            <th>Challenge Participation Id</th>
                            <th>Challenge ID</th>
                            <th>Registered Date Time</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for challenge in challenges %}
                        <tr>
                            <td>{{ challenge.cpid }}</td>
                            <td>{{ challenge.chid }}</td>
                            <td>{{ challenge.chregtime }}</td>
                            <td>{{ challenge.status }}</td>
                        {% endfor %}
                    </tbody>
                </table>
            {% endif %}
        </div>

    </div>

</body>
</html>
